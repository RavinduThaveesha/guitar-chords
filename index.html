<!DOCTYPE html>
<html>
  <head>
  <title>The Little Chord Chart</title>

</head>
<body>
  <canvas id="canvas" width="200" height="200"></canvas>

  <script>
  var fretHeight = 20;
  var fretWidth = 20;
  var textOffsetY = -3;
  var offsetY = 0;
  var offsetX = 0;

  var chord = {
    name : 'A',
    type: 'm',
    placement: ['x', 0, 2, 2, 1, 0],
    fingering: ['x', 0, 2, 3, 1, 0],
  };

  var c = document.getElementById('canvas');
  var ctx = c.getContext('2d');

  ctx.beginPath();
  ctx.fillStyle = 'white';
  
  //ctx.fillRect(x, y-10, 10, 10);
  
  //vertical
  // for(var i = 1; i <= 6; i++) {
  //   ctx.moveTo(100, offsetY + fretHeight);
  //   ctx.lineTo(0, offsetY + fretHeight);
  //   ctx.stroke();

  //   offsetY = offsetY + 20;
  // }

  //horizental

  ctx.lineWidth = 1;

  for(var i = 1; i <= 6; i++) {
    ctx.moveTo(fretWidth, offsetY + fretHeight);
    ctx.lineTo(100 + fretWidth, offsetY + fretHeight);

    ctx.fillText(i, -1, 10);
    ctx.stroke();

    offsetY = offsetY + 20;
  }


  for(var i = 0; i < 6; i++) {

    ctx.fillStyle = 'white';
    ctx.moveTo(offsetX + fretWidth, 0 + fretHeight);
    ctx.lineTo(offsetX + fretWidth, 100 + fretHeight);

    if(chord.placement[i] == 'x'){
      var y = fretHeight + textOffsetY;
    } else{
      var y = (fretHeight * chord.placement[i]) + fretHeight + textOffsetY;
    }
    
    var x = fretWidth + offsetX - (fretWidth / 4);
    ctx.fillStyle = 'black';
    ctx.fillText(chord.fingering[i], x, y);
    ctx.stroke();

    offsetX = offsetX + 20;
  }


//ctx.font = "18px Arial";

// function removeX(array){
//   var searchTerm = 'x';
//   cleanArray = [];
  
//   for(n=0; n<=array.length - 1; n++){
//     if(array[n] != searchTerm ){
//       cleanArray.push(parseInt(array[n]));
//     }
//   }
//   return cleanArray;
// }

// function drawChord(chord){
//   var offsetY = 0;
//   var offsetX = 0;
  
//   var maxPos = Math.max.apply(Math, removeX(chord.placement));
//   var minPos = Math.min.apply(Math, removeX(chord.placement));
  
//   console.log(minPos);
  
//   for(f = minPos; f <= maxPos + 1; f++){
//     ctx.beginPath();
    
//     if(f == 0){
//       ctx.lineWidth = 4;
//     } else{
//       ctx.lineWidth = 1;
//     }
//     //draw the frets
//     ctx.moveTo(0 + stringWidth, offsetY + fretHeight);
//     ctx.lineTo(100 + stringWidth, offsetY + fretHeight);
//     ctx.strokeStyle = 'gray';
//     ctx.stroke();
    
//     var offsetY = offsetY + 20;
//   }
  
//   for(i=0; i<chord.placement.length; i++){    
//     var stringH = (maxPos - minPos + 1) * fretHeight;
    
//     if(chord.placement[i] == 'x'){
//       var y = fretHeight + textOffsetY;
//     } else{
//       var y = (fretHeight * chord.placement[i]) + fretHeight + textOffsetY;
//     }
    
//     var x = stringWidth + offsetX - (stringWidth / 4);
    
//     //draw the strings
//     ctx.beginPath();
//     ctx.fillStyle = 'white';
//     ctx.fillRect(x, y-10, 10, 10);
    
//     ctx.moveTo(offsetX + stringWidth, 0 + fretHeight);
//     ctx.lineTo(offsetX + stringWidth, stringH + fretHeight);

//     ctx.fillStyle = 'black';
//     ctx.fillText(chord.fingering[i], x, y);

//     ctx.stroke();
//     var offsetX = offsetX + stringWidth;
//   }
// }

// drawChord(chord);
  </script>
</body>
</html>
